<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>My first Bulma website</title>
  <script src="https://unpkg.com/ionicons@4.2.4/dist/ionicons.js"></script>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="yb.css">
  <link rel="stylesheet" href="ybMap.css">

</head>

<body>


  <div class="yb_drop_con">


    <div class="yb_dropdown dropdown is-right">
      <div class="dropdown-trigger">
        <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
          <span>반경</span>
          <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
        </button>
      </div>
      <div class="dropdown-menu" id="dropdown-menu" role="menu">
        <div class="dropdown-content">

          <a href="#" class="dropdown-item">
            100m
          </a>
          <a class="dropdown-item">
            200m
          </a>
          <a href="#" class="dropdown-item">
            500m
          </a>


        </div>
      </div>
    </div>



  </div>





  <div class="yb_bg">
    <div class="section">



      <div class="yb_bg_container">


        <!-- <img class="yb_bg_map" src="http://mblogthumb1.phinf.naver.net/MjAxNjEwMjZfMjY1/MDAxNDc3NDg1OTgyMzM0.e1jycp3BA1CuSS63EAJtdHyPSxrJ9O1DyAe9oP5iTWAg.WWkV8bnyJgpzXic-lVtmGCcA-NqV1gYIq6hGz-Kxt9Qg.JPEG.postman6666/%EC%BA%A1%EC%B2%98.JPG?type=w800"
          style="transform: scale(1.0); transition: all .3s;"> -->

        <div class="yb_bg_map" style="
        background-image: url('https://t1.daumcdn.net/cfile/tistory/12081D374C5085A907');
        transition: all .3s;">
        </div>

        <div class="yb_bg_map yb_map_upper yb_hidden" style="
        background-image: url('http://mblogthumb1.phinf.naver.net/MjAxNjEwMjZfMjY1/MDAxNDc3NDg1OTgyMzM0.e1jycp3BA1CuSS63EAJtdHyPSxrJ9O1DyAe9oP5iTWAg.WWkV8bnyJgpzXic-lVtmGCcA-NqV1gYIq6hGz-Kxt9Qg.JPEG.postman6666/%EC%BA%A1%EC%B2%98.JPG?type=w800');
        transition: all .3s;">
        </div>

      </div>





      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 10vw;
      left: 10vw;
      "></ion-icon>
      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 10vw;
      left: 80vw;
      "></ion-icon>
      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 50vw;
      left: 80vw;
      "></ion-icon>


      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 10vw;
      left: 45vw;
      "></ion-icon>
      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 30vw;
      left: 20vw;
      "></ion-icon>
      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 50vw;
      left: 45vw;
      "></ion-icon>



      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 25vw;
      left: 45vw;
      "></ion-icon>
      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 30vw;
      left: 55vw;
      "></ion-icon>
      <ion-icon class="yb_map_arrow yb_hidden" name="arrow-dropdown-circle" style="
      top: 35vw;
      left: 45vw;
      "></ion-icon>

      <div class="yb_cluster_icon yb_hidden" style="
      top: 20vw;
      left: 23vw;">
        9
      </div>
      <div class="yb_cluster_icon yb_hidden" style="
      top: 10vw;
      left: 60vw;">
        6
      </div>
      <div class="yb_cluster_icon yb_hidden" style="
      top: 10vw;
      left: 30vw;">
        7
      </div>






      <ion-icon class="contact" name="contact"></ion-icon>

    </div>


  </div>







  <script type="text/javascript" src="lib/main.js"></script>
  <script> 

    let cluster = document.querySelectorAll('.yb_cluster_icon')
    function popCluster() {
      cluster.forEach(e => e.classList.remove('yb_hidden'))
    }







    let arrows = document.querySelectorAll('.yb_map_arrow')

    let dist_arr = []
    arrows.forEach(e => {
      let top = parseInt(Math.random() * 40 + 10)
      let left = parseInt(Math.random() * 70 + 10)
      let dist = Math.pow(
        (Math.pow((top - 30), 2) + Math.pow((left - 45), 2)), (1 / 2)
      )
      let obj = {
        top: top,
        left: left,
        dist: dist
      }
      dist_arr.push(obj)
    })
    let brr = dist_arr.sort((a, b) => a.dist - b.dist)

    for (let i = 0; i < arrows.length; i++) {
      arrows[i].style.top = brr[i].top.toString() + 'vw'
      arrows[i].style.left = brr[i].left.toString() + 'vw'
    }


    let count = parseInt(Math.random() * 3)
    arrows.forEach(e => {
      e.addEventListener('click', () => {
        console.log('heey')
        switch (count) {
          case 0:
            location.href = "http://www.google.com"
            break;
          case 1:
            location.href = "http://www.naver.com"
            break;
          case 2:
            location.href = "http://www.daum.net"
            break;
        }
      })
    })


    let searched = 0;
    function popup() {
      for (let i = 0; i < arrows.length; i++) {

        arrows[i].classList.remove('yb_hidden')

      }
      searched = 1
    }

    function hidden(a, b) {
      for (let i = a; i < b; i++) {
        arrows[i].classList.add('yb_hidden')
      }
    }


    const dropBtn = document.querySelector('.yb_dropdown')

    dropBtn.addEventListener('click', e => {
      dropBtn.classList.toggle('is-active')
    })

    const drop_item_arr = document.querySelectorAll('.dropdown-item')

    drop_item_arr[0].addEventListener('click', e => {
      searched === 1 && popup()
      hidden(3, 9)
    })
    drop_item_arr[1].addEventListener('click', e => {
      searched === 1 && popup()
      hidden(6, 9)
    })
    drop_item_arr[2].addEventListener('click', e => {
      searched === 1 && popup()
    })



    const mapImg = document.querySelector('.yb_bg_map')
    const mapUpper = document.querySelector('.yb_map_upper')

    function popScale(i) {
      mapUpper.classList.remove('yb_hidden')
      mapUpper.style.transform = `scale(${i})`
      cluster.forEach(e => e.classList.add('yb_hidden'))
    }


  </script>
</body>

</html>